# 完整脚本清单

## 已创建的所有脚本文件

### 网络系统 (Assets/Scripts/Network/)
1. ✅ **NetworkManagerCustom.cs** - 自定义网络管理器，继承自 Mirror 的 NetworkManager
   - 管理房间创建、玩家加入、离开
   - 支持 Host/Server/Client 模式
   - 最大5人，最少2人开始游戏

2. ✅ **PlayerData.cs** - 玩家数据网络同步组件
   - 继承自 NetworkBehaviour
   - 同步玩家名称、头像、资金、欠债
   - 同步手牌、小丑牌、出的牌
   - 同步游戏状态（剩余出牌次数、弃牌次数等）

### 卡牌系统 (Assets/Scripts/Cards/)
3. ✅ **Card.cs** - 卡牌数据类
   - 定义花色（黑桃、红桃、方片、梅花）
   - 定义点数（2-14，A=14）
   - 可序列化，支持 JSON

4. ✅ **Deck.cs** - 牌组管理类
   - 标准52张牌（去掉大小王）
   - 洗牌、发牌、抽牌功能
   - 支持将牌放回牌组

5. ✅ **Scoring.cs** - 分数计算系统（静态类）
   - 检测9种牌型（散牌、对子、两对、三条、顺子、同花、葫芦、四条、顺金）
   - 计算基础 chips 和 multiplier
   - 应用小丑牌加成
   - 最终分数 = chips × multiplier

### 游戏逻辑 (Assets/Scripts/Game/)
6. ✅ **GameManager.cs** - 游戏管理器（核心逻辑）
   - 继承自 NetworkBehaviour
   - 管理游戏流程：开始、回合、结束
   - 随机出牌顺序
   - 处理出牌、押注、弃牌逻辑
   - 强制出牌逻辑（只剩一人时）
   - 结算系统（分数相同平分，余数归系统）
   - 还债系统

7. ✅ **JokerData.cs** - 小丑牌数据类
   - 6种小丑牌类型
   - 每种小丑牌的效果和价格
   - 计算加成方法

8. ✅ **ShopManager.cs** - 商店管理器
   - 每局结束后刷新10张随机小丑牌
   - 购买小丑牌（支持欠债）
   - 售卖小丑牌
   - 最多5张小丑牌限制

9. ✅ **PlayerDataManager.cs** - 玩家数据管理器
   - 保存/加载玩家数据到本地文件
   - 使用 JSON 格式
   - 保存路径：Application.persistentDataPath

10. ✅ **QRCodeGenerator.cs** - 二维码生成器（可选）
    - 使用 ZXing 生成二维码
    - 需要导入 ZXing 库

11. ✅ **QRCodeScanner.cs** - 二维码扫描器（可选，移动端）
    - 移动端二维码扫描功能
    - 需要移动端插件支持

### UI系统 (Assets/Scripts/UI/)
12. ✅ **MainMenu.cs** - 主菜单UI
    - 显示玩家信息（头像、名称、资金/负债）
    - 创建房间、加入房间、退出按钮
    - 玩家信息输入窗口（首次进入）
    - 商店UI集成

13. ✅ **RoomUI.cs** - 房间UI
    - 显示房间IP和二维码（房主）
    - 显示玩家列表
    - 开始游戏按钮（>=2人可用）
    - 加入房间界面（输入IP或扫描二维码）

14. ✅ **GameUI.cs** - 游戏内UI
    - 显示玩家信息
    - 显示手牌（可点击选择）
    - 显示小丑牌
    - 显示其他玩家头像（逆时针排列）
    - 显示中心出的牌
    - 三个操作按钮（出牌、押注、弃牌）
    - 按钮状态管理（根据规则启用/禁用）

15. ✅ **ShopUI.cs** - 商店UI
    - 显示商店中的小丑牌列表
    - 显示玩家拥有的小丑牌
    - 购买/售卖功能

16. ✅ **BettingUI.cs** - 押注UI
    - 押注窗口
    - 输入押注金额
    - 验证金额有效性

17. ✅ **ResultUI.cs** - 结算UI
    - 显示游戏结果
    - 显示所有玩家分数
    - 显示获胜者
    - 返回主菜单按钮

18. ✅ **CardUI.cs** - 卡牌UI组件
    - 显示单张卡牌
    - 点击选择功能
    - 选中时向上移动

19. ✅ **JokerItemUI.cs** - 小丑牌UI组件
    - 显示小丑牌信息
    - 购买/售卖按钮
    - 点击显示售卖按钮

20. ✅ **PlayerAvatarInRoom.cs** - 房间内玩家头像UI
    - 显示玩家头像和名称
    - 订阅数据变化事件

21. ✅ **ResultItemUI.cs** - 结算结果项UI
    - 显示单个玩家的结算结果
    - 显示获胜者标记

## 总计：21个脚本文件

## 功能完整性检查

### ✅ 已实现功能
- [x] 网络系统（Mirror Host/Server/Client）
- [x] 房间创建和加入
- [x] 玩家数据同步
- [x] 游戏流程管理
- [x] 出牌、押注、弃牌逻辑
- [x] 强制出牌逻辑
- [x] 欠债系统
- [x] 结算还债
- [x] 分数相同平分（余数归系统）
- [x] 随机出牌顺序
- [x] 6种小丑牌效果
- [x] 商店系统（每局刷新10张）
- [x] 玩家数据保存/加载
- [x] 所有UI布局
- [x] 二维码生成（需要ZXing）
- [x] 二维码扫描（可选，移动端）

### ⚠️ 需要配置
- [ ] Prefab 设置（Player、Card、JokerItem等）
- [ ] 场景设置（MainMenu、GameRoom、GameScene）
- [ ] UI 引用分配（所有 [SerializeField] 字段）
- [ ] 资源文件（头像、小丑牌图片）
- [ ] ZXing 库导入（二维码功能）

### 📝 注意事项
1. 所有脚本都已添加中文注释
2. 所有脚本都标注了文件位置
3. 所有网络代码使用 Mirror
4. 所有UI使用 Unity UI (uGUI)
5. 所有引用使用 [SerializeField] + FindFirstObjectByType
6. 起始资金：20
7. 剩余弃牌次数：3
8. 剩余出牌次数：1
9. 手牌数量：8
10. 最多出牌数：5
11. 开始底金：5

## 下一步操作

1. 在 Unity 中创建 Prefab
2. 设置场景和 UI
3. 分配所有引用
4. 导入资源文件
5. 测试网络连接
6. 测试游戏流程
7. 打包测试（Android/iOS）

